<div #markdown *ngIf="!error; else errorPage" appIsVisible [watchedElementIds]="article?.metadata?.tableOfContents ?? []" [attr.data-accent]="article?.metadata?.accent ?? ''">
  <page-header [title]="article?.metadata?.title" [caption]="article?.metadata?.caption" [description]="article?.metadata?.description" />
  <div *ngIf="article?.metadata?.date && article?.metadata?.lang" class="content-wrapper mb-10">
    <div class="flex flex-wrap gap-x-6 gap-y-3 text-sm text-slate-600 dark:text-slate-400">
      <div class="flex items-center gap-1.5"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
          fill="currentColor" class="h-5 w-5">
          <path
            d="M5.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H6a.75.75 0 01-.75-.75V12zM6 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H6zM7.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H8a.75.75 0 01-.75-.75V12zM8 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H8zM9.25 10a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H10a.75.75 0 01-.75-.75V10zM10 11.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V12a.75.75 0 00-.75-.75H10zM9.25 14a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H10a.75.75 0 01-.75-.75V14zM12 9.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V10a.75.75 0 00-.75-.75H12zM11.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H12a.75.75 0 01-.75-.75V12zM12 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H12zM13.25 10a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H14a.75.75 0 01-.75-.75V10zM14 11.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V12a.75.75 0 00-.75-.75H14z">
          </path>
          <path fill-rule="evenodd"
            d="M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z"
            clip-rule="evenodd"></path>
        </svg><time>{{article?.metadata?.date | date: 'MMMM d, y'}}</time></div>
      <div class="flex items-center gap-1.5 capitalize"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
          fill="currentColor" class="h-5 w-5">
          <path
            d="M7.75 2.75a.75.75 0 00-1.5 0v1.258a32.987 32.987 0 00-3.599.278.75.75 0 10.198 1.487A31.545 31.545 0 018.7 5.545 19.381 19.381 0 017 9.56a19.418 19.418 0 01-1.002-2.05.75.75 0 00-1.384.577 20.935 20.935 0 001.492 2.91 19.613 19.613 0 01-3.828 4.154.75.75 0 10.945 1.164A21.116 21.116 0 007 12.331c.095.132.192.262.29.391a.75.75 0 001.194-.91c-.204-.266-.4-.538-.59-.815a20.888 20.888 0 002.333-5.332c.31.031.618.068.924.108a.75.75 0 00.198-1.487 32.832 32.832 0 00-3.599-.278V2.75z">
          </path>
          <path fill-rule="evenodd"
            d="M13 8a.75.75 0 01.671.415l4.25 8.5a.75.75 0 11-1.342.67L15.787 16h-5.573l-.793 1.585a.75.75 0 11-1.342-.67l4.25-8.5A.75.75 0 0113 8zm2.037 6.5L13 10.427 10.964 14.5h4.073z"
            clip-rule="evenodd"></path>
        </svg>{{article?.metadata?.lang}}</div>
    </div>
  </div>
  <div class="content-wrapper min-h-full flex-shrink-0 overflow-hidden lg:overflow-visible">
    <div class="flex flex-row-reverse gap-8 xl:gap-24">
      <div class="-mt-48 hidden lg:block">
        <div class="sticky top-24 z-[901] w-64 xl:w-[272px] fm:relative fm:top-0">
          <table-of-contents [currentPage]="path" [items]="article?.metadata?.tableOfContents ??[]" [show]="loaded" />
        </div>
      </div>
      <div class="mdx-contents">
        <div appMarkDown (onLoad)="onLoad($event)"></div>
        <div *ngIf="article?.metadata?.tags"
          class="mt-24 flex flex-col gap-6 text-sm text-slate-600 md:flex-row md:items-center md:justify-between dark:text-slate-400">
          <div class="flex flex-wrap gap-x-1 gap-y-2 content-none">Posted on
            <h4 class="font-bold text-accent-600 dark:text-accent-400"><a class="font-bold" href="/blog">story</a></h4>
            with tags:
              <div class="flex flex-wrap gap-1">
                <h4 *ngFor="let tag of article?.metadata?.tags" class="text-accent-600 dark:text-accent-400">
                  <a class=" font-medium bg-accent-600/[0.08] inline-flex h-6 items-center gap-1 rounded-full px-2 text-[13px] dark:dark:bg-accent-400/10 dark:font-normal"
                  href="/blog">#{{tag}}</a>
                </h4>
              </div>
          </div>
        </div>
      </div>

      <div class="hidden border-l border-divider-light dark:border-divider-dark lg:block"></div>
    </div>
  </div>
  <div *ngIf="showMediaSection" class="pointer-events-none sticky bottom-8 z-[902] mt-16 lg:bottom-8 lg:mt-24 fm:static">
    <div class="content-wrapper">
        <div class="flex flex-row-reverse sticky mt-16 bottom-4 lg:bottom-8 lg:mt-24 z-[100]">
          <div class="-mt-48 hidden lg:block">
            <div class="w-64 xl:w-[272px]"></div>
          </div>
          <div class="min-w-0 flex-1">
            <div class="mx-auto max-w-[360px] px-4 sm:max-w-[420px] sm:px-0">
              <app-media-section [article]="article?.data" ></app-media-section>
            </div>
          </div>
          <div class="hidden lg:block"></div>
        </div>
    </div>
  </div>
  
</div>
<ng-template #errorPage>
  <page-not-found />
</ng-template>